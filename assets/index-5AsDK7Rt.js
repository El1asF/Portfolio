(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const R="modulepreload",q=function(e,t){return new URL(e,t).href},k={},p=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),h=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=q(l,i),l in k)return;k[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!i)for(let f=o.length-1;f>=0;f--){const y=o[f];if(y.href===l&&(!c||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":R,c||(u.as="script"),u.crossOrigin="",u.href=l,h&&u.setAttribute("nonce",h),document.head.appendChild(u),c)return new Promise((f,y)=>{u.addEventListener("load",f),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},B=24*60*60*1e3,m=typeof window>"u";class K{constructor(){this.cacheDir=m?"./data":null,this.memoryCache={}}async getOrFetch(t,n){const i=await this.getCachedData(t);if(i&&!this.isExpired(i.timestamp))return console.log(`[Cache] Verwende Cache-Daten für: ${t}`),i.data;console.log(`[Cache] Hole frische Daten für: ${t}`);try{const r=await n();return await this.setCachedData(t,r),r}catch(r){if(console.error(`[Cache] Fehler beim Abrufen der Daten für ${t}:`,r),i)return console.warn(`[Cache] Verwende abgelaufene Cache-Daten für: ${t}`),i.data;throw r}}isExpired(t){return Date.now()-t>B}async getCachedData(t){return m?this.getFromFile(t):this.getFromLocalStorage(t)}async setCachedData(t,n){const i={data:n,timestamp:Date.now(),source:"cache"};m&&await this.saveToFile(t,i),this.saveToLocalStorage(t,i),this.memoryCache[t]=i}async getFromFile(t){if(!m)return null;try{const n=await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=(await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url)).default.join(this.cacheDir,`${t}.json`);try{await n.default.access(r)}catch{return null}const s=await n.default.readFile(r,"utf-8");return JSON.parse(s)}catch(n){return console.error(`[Cache] Fehler beim Lesen der Cache-Datei für ${t}:`,n),null}}async saveToFile(t,n){if(m)try{const i=await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),s=(await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url)).default.join(this.cacheDir,`${t}.json`);try{await i.default.mkdir(this.cacheDir,{recursive:!0})}catch{}await i.default.writeFile(s,JSON.stringify(n,null,2),"utf-8")}catch(i){console.error(`[Cache] Fehler beim Schreiben der Cache-Datei für ${t}:`,i)}}getFromLocalStorage(t){if(m)return null;try{const n=`yt_cache_${t}`,i=localStorage.getItem(n);return i?JSON.parse(i):null}catch(n){return console.warn(`[Cache] Fehler beim Lesen aus localStorage für ${t}:`,n),null}}saveToLocalStorage(t,n){if(!m)try{const i=`yt_cache_${t}`;localStorage.setItem(i,JSON.stringify(n))}catch(i){console.warn(`[Cache] Fehler beim Schreiben in localStorage für ${t}:`,i)}}async invalidateCache(t){if(delete this.memoryCache[t],!m)try{localStorage.removeItem(`yt_cache_${t}`)}catch{}if(m)try{const n=await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),r=(await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url)).default.join(this.cacheDir,`${t}.json`);await n.default.unlink(r).catch(()=>{})}catch{}}async clearCache(){if(this.memoryCache={},!m)try{const t=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);i&&i.startsWith("yt_cache_")&&t.push(i)}t.forEach(n=>localStorage.removeItem(n))}catch{}if(m)try{const t=await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),n=await p(()=>import("./__vite-browser-external-BIHI7g3E.js"),[],import.meta.url),i=await t.default.readdir(this.cacheDir);for(const r of i)r.endsWith(".json")&&await t.default.unlink(n.default.join(this.cacheDir,r)).catch(()=>{})}catch{}}}const E=new K,$="UC8VMlZ6CVj7g-f3MMUvyCJw",N="AIzaSyBcdO9KBv5e0Q5LqwzHp9B9ZC0KYi4FsXU";function S(){return N}function w(e){return e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+" Mio.":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+" Tsd.":e.toString()}function F(e){const t=new Date,n=new Date(e),i=t-n,r=Math.floor(i/(1e3*60*60*24));if(r<1)return"heute";if(r<7)return`vor ${r} ${r===1?"Tag":"Tagen"}`;if(r<30){const s=Math.floor(r/7);return`vor ${s} ${s===1?"Woche":"Wochen"}`}else if(r<365){const s=Math.floor(r/30);return`vor ${s} ${s===1?"Monat":"Monaten"}`}else{const s=Math.floor(r/365);return`vor ${s} ${s===1?"Jahr":"Jahren"}`}}function O(e){if(!e)return"0:00";const t=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/),n=t[1]&&t[1].replace("H","")||0,i=t[2]&&t[2].replace("M","")||0,r=t[3]&&t[3].replace("S","")||0;return n>0?`${n}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${i}:${r.toString().padStart(2,"0")}`}function L(e){if(!e.contentDetails||!e.contentDetails.duration)return!1;const t=e.contentDetails.duration;return x(t)<=60||e.snippet.title&&e.snippet.title.toLowerCase().includes("short")||e.snippet.tags&&e.snippet.tags.some(i=>i.toLowerCase().includes("short"))}function x(e){const t=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/),n=t[1]&&parseInt(t[1].replace("H",""))||0,i=t[2]&&parseInt(t[2].replace("M",""))||0,r=t[3]&&parseInt(t[3].replace("S",""))||0;return n*3600+i*60+r}async function J(){return E.getOrFetch("channelData",async()=>{var r;const e=S(),n=await(await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${$}&key=${e}`)).json();if(!((r=n.items)!=null&&r.length))throw new Error("Keine Kanaldaten");const i=n.items[0];return{title:i.snippet.title,description:i.snippet.description,thumbnails:i.snippet.thumbnails,subscriberCount:+i.statistics.subscriberCount,viewCount:+i.statistics.viewCount,videoCount:+i.statistics.videoCount}})}async function H(){return E.getOrFetch("allVideos",async()=>{const e=S(),i=(await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${$}&maxResults=50&order=date&type=video&key=${e}`)).json()).items.map(o=>o.id.videoId).join(",");return(await(await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${i}&key=${e}`)).json()).items||[]})}async function U(){return E.getOrFetch("mostViewedVideo",async()=>{const e=S(),i=(await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${$}&maxResults=50&order=viewCount&type=video&videoDuration=any&key=${e}`)).json()).items.map(a=>a.id.videoId).join(","),o=(await(await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${i}&key=${e}`)).json()).items.filter(a=>!L(a));if(!o.length)throw new Error("Kein meistgesehenes Video gefunden");return o[0]})}async function W(){return E.getOrFetch("mostViewedShort",async()=>{const e=S(),i=(await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${$}&maxResults=50&order=viewCount&type=video&videoDuration=short&key=${e}`)).json()).items.map(a=>a.id.videoId).join(","),o=(await(await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${i}&key=${e}`)).json()).items.filter(a=>L(a));if(!o.length)throw new Error("Kein meistgesehenes Short gefunden");return o[0]})}async function Y(e=3){try{return(await H()).filter(i=>!L(i)).slice(0,e)}catch(t){return console.error("Fehler beim Abrufen der neuesten Videos:",t),[]}}async function z(e=5){try{return(await H()).filter(i=>L(i)).slice(0,e)}catch(t){return console.error("Fehler beim Abrufen der neuesten Shorts:",t),[]}}async function I(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){return console.error(`Fehler beim Laden der Daten von ${e}:`,t),null}}async function G(){return await I("/data/filmprojekte.json")}async function Z(){return await I("/data/lebenslauf.json")}async function Q(){return await I("/data/skills.json")}async function X(){return await I("/data/socials.json")}function P(e){if(!e)return"";if(e.includes("heute")){const[n]=e.split("-");return e}const t=e.split("-");return t.length===2&&t[1].length===2||t.length===2&&t[1].length===4||t.length===4,e}function ee(e){return!e||!Array.isArray(e)||e.length===0?"":e.join(", ")+"."}async function te(){try{const e=await G();if(!e||e.length===0){console.error("Keine Filmprojekte gefunden");return}const t=document.querySelector("#film-projects .vertical-timeline");if(!t){console.error("Timeline-Container nicht gefunden");return}t.innerHTML="",e.sort((n,i)=>{const r=n.datum.split("-"),s=i.datum.split("-");return r[0]!==s[0]?s[0]-r[0]:r.length>1&&s.length>1?s[1]-r[1]:0}),e.forEach(n=>{const i=ne(n);t.appendChild(i)})}catch(e){console.error("Fehler beim Initialisieren der Filmprojekte-Timeline:",e)}}function ne(e){const t=document.createElement("div");t.className="timeline-item";const n=P(e.datum),i=ee(e.aufgaben);let r=`
    <div class="timeline-date">${n}</div>
    <div class="timeline-content">
      <h4 class="timeline-title">"${e.titel}"${e.titel.includes("—")?"":" —"} ${e.titel.includes("—")?"":"Projekt"}</h4>
      <p>${e.beschreibung||""}</p>
      ${i?`<p class="timeline-role">${i}</p>`:""}
    </div>
  `;return e.videolink&&e.videolink.trim()!==""&&(r+=`
      <div class="timeline-video">
        <iframe
          src="${e.videolink}"
          title="${e.titel}"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    `),t.innerHTML=r,t}async function ie(){try{const e=await Z();if(!e||e.length===0){console.error("Keine Lebenslaufdaten gefunden");return}const t=document.querySelector("#lebenslauf .container");if(!t){console.error("Lebenslauf-Container nicht gefunden");return}const n=t.querySelector(".section-title");t.innerHTML="",t.appendChild(n);const i=e.filter(l=>l.typ==="Beruf"),r=e.filter(l=>l.typ==="Bildung"),s=(l,c)=>{const d=f=>f?f.includes("heute")?9999:parseInt(f.split("-")[0]):0,v=d(l.datum);return d(c.datum)-v};i.sort(s),r.sort(s);const o=document.createElement("div");o.className="cv-timeline";const a=T("Berufserfahrung",i);o.appendChild(a);const h=T("Bildungsweg",r);o.appendChild(h),t.appendChild(o)}catch(e){console.error("Fehler beim Initialisieren der Lebenslauf-Timeline:",e)}}function T(e,t){const n=document.createElement("div");n.className="timeline-section";const i=document.createElement("h3");i.classList.add("untertitel"),i.textContent=e,n.appendChild(i);const r=document.createElement("div");return r.className="vertical-timeline",t.forEach(s=>{const o=re(s);r.appendChild(o)}),n.appendChild(r),n}function re(e){const t=document.createElement("div");t.className="timeline-item";const n=P(e.datum);return t.innerHTML=`
    <div class="timeline-date">${n}</div>
    <div class="timeline-content">
      <h3 class="timeline-title">${e.titel}</h3>
      <p>${e.beschreibung||""}</p>
    </div>
  `,t}async function se(){try{const e=await Q();if(!e||e.length===0){console.error("Keine Skills gefunden");return}const t=document.querySelector("#skills .skills-grid");if(!t){console.error("Skills-Container nicht gefunden");return}t.innerHTML="",e.sort((n,i)=>i.level-n.level),e.forEach(n=>{const i=oe(n);t.appendChild(i)}),ae()}catch(e){console.error("Fehler beim Initialisieren der Skills-Übersicht:",e)}}function oe(e){const t=document.createElement("div");return t.className="skill-card",t.setAttribute("data-skill-level",e.level),t.innerHTML=`
    <h4>${e.name}</h4>
  `,t}function ae(){document.querySelectorAll(".skill-card").forEach(t=>{const i=(parseInt(t.dataset.skillLevel)||5)/10*100,r=(i/100).toFixed(2);t.style.setProperty("--skill-fill",`${i}%`),t.style.setProperty("--transition-speed",`${r}s`),t.addEventListener("mouseenter",()=>{t.classList.add("show-skill-level")}),t.addEventListener("mouseleave",()=>{t.classList.remove("show-skill-level")})})}async function ce(){try{const e=await X();if(!e||e.length===0){console.error("Keine Social-Media-Daten gefunden");return}const t=document.getElementById("social-links");if(!t){console.error("Social-Links-Container nicht gefunden");return}t.innerHTML="",e.forEach(n=>{const i=le(n);t.appendChild(i)})}catch(e){console.error("Fehler beim Initialisieren der Social-Media-Links:",e)}}function le(e){const t=document.createElement("a");t.className="social-link animated",t.href=e.url||"#",t.target="_blank";const n=de(e.platform);return t.innerHTML=`
    <i class="${n} social-icon"></i>
    <div class="social-info">
      <span class="social-name">${e.username||""}</span>
      <span class="follower-count">${e.followers||0}</span>
    </div>
  `,t}function de(e){return{Instagram:"fab fa-instagram",TikTok:"fab fa-tiktok",Facebook:"fab fa-facebook",Twitter:"fab fa-twitter",LinkedIn:"fab fa-linkedin",YouTube:"fab fa-youtube",GitHub:"fab fa-github"}[e]||"fab fa-globe"}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".burger-menu"),t=document.querySelector(".nav-links");e&&e.addEventListener("click",function(){t.classList.toggle("active")});const n=document.querySelectorAll(".nav-link");n.forEach(c=>{c.addEventListener("click",function(d){const v=this.getAttribute("href"),u=document.querySelector(v);u&&(d.preventDefault(),window.scrollTo({top:u.offsetTop-80,behavior:"smooth"}),n.forEach(f=>f.classList.remove("active")),this.classList.add("active"),t.classList.contains("active")&&t.classList.remove("active"))})});const i=document.querySelectorAll(".fade-in"),r=document.querySelectorAll(".slide-in-left"),s=document.querySelectorAll(".slide-in-right");function o(){document.querySelectorAll(".timeline-item").forEach(c=>a.observe(c))}const a=new IntersectionObserver(c=>{c.forEach(d=>{d.isIntersecting&&d.target.classList.add("visible")})},{threshold:.1});i.forEach(c=>a.observe(c)),r.forEach(c=>a.observe(c)),s.forEach(c=>a.observe(c)),o(),document.querySelectorAll(".skill-card").forEach(c=>{const d=c.getAttribute("data-skill-level");d&&c.style.setProperty("--skill-level",d)}),document.querySelectorAll('.tabs input[type="radio"]').forEach(c=>{c.addEventListener("change",function(){const d=this.id,v=document.querySelector(`label[for="${d}"] + .tab-content`);document.querySelectorAll(".tab-content").forEach(u=>{u.style.display="none"}),v&&(v.style.display="block")})})});function ue(){const e=new IntersectionObserver((t,n)=>{t.forEach(i=>{i.isIntersecting&&(i.target.classList.add("visible"),n.unobserve(i.target))})},{threshold:.1});document.querySelectorAll(".timeline-item").forEach(t=>{e.observe(t)})}const _=document.getElementById("channel-title"),A=document.getElementById("channel-avatar"),D=document.getElementById("subscriber-count"),g=document.getElementById("most-viewed-videos"),b=document.getElementById("latest-videos"),C=document.getElementById("latest-shorts");document.addEventListener("DOMContentLoaded",async()=>{try{await he(),await me(),await pe(),await ve(),await te(),await ie(),await se(),await ce(),ue()}catch(e){console.error("Fehler in main.js beim Initialisieren:",e)}});async function he(){try{const e=await J();e&&(_&&(_.textContent=e.title),A&&e.thumbnails&&e.thumbnails.default&&(A.src=e.thumbnails.default.url),D&&fe(e.subscriberCount))}catch(e){console.error("Fehler beim Initialisieren der Kanaldaten:",e)}}function fe(e){if(!D)return;const t=2e3,n=1e3/60,i=Math.round(t/n),r=e/i;let s=0,o=0;const a=setInterval(()=>{o++,s+=r,o===i&&(clearInterval(a),s=e),D.textContent=`${w(Math.floor(s))} Abonnenten`},n)}async function me(){if(g)try{const e=await U(),t=await W();if(g.innerHTML="",e){const n=M(e,!1);g.appendChild(n)}else{const n=document.createElement("div");n.className="card video-card longform most-viewed-longform",n.innerHTML=`
        <div class="longform-thumbnail-container">
          <div class="video-placeholder">Kein Video gefunden</div>
        </div>
      `,g.appendChild(n)}if(t){const n=M(t,!0);g.appendChild(n)}else{const n=document.createElement("div");n.className="card video-card short most-viewed-short",n.innerHTML=`
        <div class="video-placeholder">Kein Short gefunden</div>
      `,g.appendChild(n)}}catch(e){console.error("Fehler beim Initialisieren der meistgesehenen Videos:",e)}}function M(e,t){const n=document.createElement("div");n.className=t?"card video-card short most-viewed-short":"card video-card longform most-viewed-longform";const i=e.snippet.title,r=parseInt(e.statistics.viewCount),s=e.snippet.publishedAt,o=e.id;let a=e.snippet.thumbnails.maxres?e.snippet.thumbnails.maxres.url:e.snippet.thumbnails.high?e.snippet.thumbnails.high.url:e.snippet.thumbnails.default.url;const h=e.contentDetails?O(e.contentDetails.duration):"";return t?n.innerHTML=`
      <div class="shorts-thumbnail">
        <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
          <img src="${a}" alt="${i}">
          <div class="video-duration">${h}</div>
        </a>
      </div>
      <div class="video-info">
        <h4 class="video-title">${i}</h4>
        <div class="video-meta">
          <span>${w(r)} Aufrufe</span>
        </div>
      </div>
    `:n.innerHTML=`
      <div class="longform-thumbnail-container">
        <div class="video-thumbnail">
          <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
            <img src="${a}" alt="${i}">
            <div class="video-duration">${h}</div>
          </a>
        </div>
        <div class="video-info">
          <h4 class="video-title">${i}</h4>
          <div class="video-meta">
            <span>${w(r)} Aufrufe</span>
            <span>${F(s)}</span>
          </div>
        </div>
      </div>
    `,n}async function pe(){if(b)try{const e=await Y(3);if(b.innerHTML="",e&&e.length>0)e.forEach(t=>{const n=j(t,!1);b.appendChild(n)});else for(let t=0;t<3;t++){const n=document.createElement("div");n.className="card video-card",n.innerHTML='<div class="video-placeholder">Kein Video gefunden</div>',b.appendChild(n)}}catch(e){console.error("Fehler beim Initialisieren der neuesten Videos:",e)}}async function ve(){if(C)try{const e=await z(5);if(C.innerHTML="",e&&e.length>0)e.forEach(t=>{const n=j(t,!0);C.appendChild(n)});else for(let t=0;t<5;t++){const n=document.createElement("div");n.className="card shorts-card",n.innerHTML='<div class="video-placeholder">Kein Short gefunden</div>',C.appendChild(n)}}catch(e){console.error("Fehler beim Initialisieren der neuesten Shorts:",e)}}function j(e,t){const n=document.createElement("div");n.className=t?"card shorts-card":"card video-card";const i=e.snippet.title,r=parseInt(e.statistics.viewCount),s=e.snippet.publishedAt,o=e.id;let a=e.snippet.thumbnails.maxres?e.snippet.thumbnails.maxres.url:e.snippet.thumbnails.high?e.snippet.thumbnails.high.url:e.snippet.thumbnails.default.url;const h=e.contentDetails?O(e.contentDetails.duration):"";return t?n.innerHTML=`
      <div class="shorts-thumbnail">
        <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
          <img src="${a}" alt="${i}">
          <div class="video-duration">${h}</div>
        </a>
      </div>
      <div class="video-info">
        <h4 class="video-title">${i}</h4>
        <div class="video-meta">
          <span>${w(r)} Aufrufe</span>
        </div>
      </div>
    `:n.innerHTML=`
      <div class="longform-thumbnail-container">
        <div class="video-thumbnail">
          <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
            <img src="${a}" alt="${i}">
            <div class="video-duration">${h}</div>
          </a>
        </div>
        <div class="video-info">
          <h4 class="video-title">${i}</h4>
          <div class="video-meta">
            <span>${w(r)} Aufrufe</span>
            <span>${F(s)}</span>
          </div>
        </div>
      </div>
    `,n}document.addEventListener("DOMContentLoaded",function(){ge()});function ge(){document.querySelectorAll(".carousel-track").forEach(t=>{const n=t.id,i=document.querySelector(`.carousel-button.prev[data-carousel="${n}"]`),r=document.querySelector(`.carousel-button.next[data-carousel="${n}"]`);i&&r&&(i.addEventListener("click",()=>V(t,-1)),r.addEventListener("click",()=>V(t,1)))})}function V(e,t){const n=e.querySelector(".carousel-item");if(!n)return;const i=n.offsetWidth,r=parseInt(window.getComputedStyle(e).columnGap||16),s=(i+r)*t;e.scrollBy({left:s,behavior:"smooth"})}
