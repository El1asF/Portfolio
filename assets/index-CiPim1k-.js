(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const j="modulepreload",q=function(e){return"/"+e},D={},m=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(d=>{if(d=q(d),d in D)return;D[d]=!0;const u=d.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":j,u||(c.as="script"),c.crossOrigin="",c.href=d,a&&c.setAttribute("nonce",a),document.head.appendChild(c),u)return new Promise((f,p)=>{c.addEventListener("load",f),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},K=24*60*60*1e3,h=typeof window>"u";class N{constructor(){this.cacheDir=h?"./data":null,this.memoryCache={}}async getOrFetch(t,n){const i=await this.getCachedData(t);if(i&&!this.isExpired(i.timestamp))return console.log(`[Cache] Verwende Cache-Daten für: ${t}`),i.data;console.log(`[Cache] Hole frische Daten für: ${t}`);try{const r=await n();return await this.setCachedData(t,r),r}catch(r){if(console.error(`[Cache] Fehler beim Abrufen der Daten für ${t}:`,r),i)return console.warn(`[Cache] Verwende abgelaufene Cache-Daten für: ${t}`),i.data;throw r}}isExpired(t){return Date.now()-t>K}async getCachedData(t){return h?this.getFromFile(t):this.getFromLocalStorage(t)}async setCachedData(t,n){const i={data:n,timestamp:Date.now(),source:"cache"};h&&await this.saveToFile(t,i),this.saveToLocalStorage(t,i),this.memoryCache[t]=i}async getFromFile(t){if(!h)return null;try{const n=await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=(await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).default.join(this.cacheDir,`${t}.json`);try{await n.default.access(r)}catch{return null}const s=await n.default.readFile(r,"utf-8");return JSON.parse(s)}catch(n){return console.error(`[Cache] Fehler beim Lesen der Cache-Datei für ${t}:`,n),null}}async saveToFile(t,n){if(h)try{const i=await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=(await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).default.join(this.cacheDir,`${t}.json`);try{await i.default.mkdir(this.cacheDir,{recursive:!0})}catch{}await i.default.writeFile(s,JSON.stringify(n,null,2),"utf-8")}catch(i){console.error(`[Cache] Fehler beim Schreiben der Cache-Datei für ${t}:`,i)}}getFromLocalStorage(t){if(h)return null;try{const n=`yt_cache_${t}`,i=localStorage.getItem(n);return i?JSON.parse(i):null}catch(n){return console.warn(`[Cache] Fehler beim Lesen aus localStorage für ${t}:`,n),null}}saveToLocalStorage(t,n){if(!h)try{const i=`yt_cache_${t}`;localStorage.setItem(i,JSON.stringify(n))}catch(i){console.warn(`[Cache] Fehler beim Schreiben in localStorage für ${t}:`,i)}}async invalidateCache(t){if(delete this.memoryCache[t],!h)try{localStorage.removeItem(`yt_cache_${t}`)}catch{}if(h)try{const n=await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=(await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])).default.join(this.cacheDir,`${t}.json`);await n.default.unlink(r).catch(()=>{})}catch{}}async clearCache(){if(this.memoryCache={},!h)try{const t=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);i&&i.startsWith("yt_cache_")&&t.push(i)}t.forEach(n=>localStorage.removeItem(n))}catch{}if(h)try{const t=await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await m(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await t.default.readdir(this.cacheDir);for(const r of i)r.endsWith(".json")&&await t.default.unlink(n.default.join(this.cacheDir,r)).catch(()=>{})}catch{}}}const C=new N,E="UC8VMlZ6CVj7g-f3MMUvyCJw",R="AIzaSyBcdO9KBv5e0Q5LqwzHp9B9ZC0KYi4FsXU";function $(){return R}function w(e){return e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+" Mio.":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+" Tsd.":e.toString()}function V(e){const t=new Date,n=new Date(e),i=t-n,r=Math.floor(i/(1e3*60*60*24));if(r<1)return"heute";if(r<7)return`vor ${r} ${r===1?"Tag":"Tagen"}`;if(r<30){const s=Math.floor(r/7);return`vor ${s} ${s===1?"Woche":"Wochen"}`}else if(r<365){const s=Math.floor(r/30);return`vor ${s} ${s===1?"Monat":"Monaten"}`}else{const s=Math.floor(r/365);return`vor ${s} ${s===1?"Jahr":"Jahren"}`}}function F(e){if(!e)return"0:00";const t=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/),n=t[1]&&t[1].replace("H","")||0,i=t[2]&&t[2].replace("M","")||0,r=t[3]&&t[3].replace("S","")||0;return n>0?`${n}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${i}:${r.toString().padStart(2,"0")}`}function S(e){if(!e.contentDetails||!e.contentDetails.duration)return!1;const t=e.contentDetails.duration;return B(t)<=60||e.snippet.title&&e.snippet.title.toLowerCase().includes("short")||e.snippet.tags&&e.snippet.tags.some(i=>i.toLowerCase().includes("short"))}function B(e){const t=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/),n=t[1]&&parseInt(t[1].replace("H",""))||0,i=t[2]&&parseInt(t[2].replace("M",""))||0,r=t[3]&&parseInt(t[3].replace("S",""))||0;return n*3600+i*60+r}async function x(){return C.getOrFetch("channelData",async()=>{var r;const e=$(),n=await(await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${E}&key=${e}`)).json();if(!((r=n.items)!=null&&r.length))throw new Error("Keine Kanaldaten");const i=n.items[0];return{title:i.snippet.title,description:i.snippet.description,thumbnails:i.snippet.thumbnails,subscriberCount:+i.statistics.subscriberCount,viewCount:+i.statistics.viewCount,videoCount:+i.statistics.videoCount}})}async function O(){return C.getOrFetch("allVideos",async()=>{const e=$(),i=(await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${E}&maxResults=50&order=date&type=video&key=${e}`)).json()).items.map(o=>o.id.videoId).join(",");return(await(await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${i}&key=${e}`)).json()).items||[]})}async function J(){return C.getOrFetch("mostViewedVideo",async()=>{const e=$(),i=(await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${E}&maxResults=50&order=viewCount&type=video&videoDuration=any&key=${e}`)).json()).items.map(a=>a.id.videoId).join(","),o=(await(await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${i}&key=${e}`)).json()).items.filter(a=>!S(a));if(!o.length)throw new Error("Kein meistgesehenes Video gefunden");return o[0]})}async function U(){return C.getOrFetch("mostViewedShort",async()=>{const e=$(),i=(await(await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&channelId=${E}&maxResults=50&order=viewCount&type=video&videoDuration=short&key=${e}`)).json()).items.map(a=>a.id.videoId).join(","),o=(await(await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics,contentDetails&id=${i}&key=${e}`)).json()).items.filter(a=>S(a));if(!o.length)throw new Error("Kein meistgesehenes Short gefunden");return o[0]})}async function W(e=3){try{return(await O()).filter(i=>!S(i)).slice(0,e)}catch(t){return console.error("Fehler beim Abrufen der neuesten Videos:",t),[]}}async function Y(e=5){try{return(await O()).filter(i=>S(i)).slice(0,e)}catch(t){return console.error("Fehler beim Abrufen der neuesten Shorts:",t),[]}}async function L(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){return console.error(`Fehler beim Laden der Daten von ${e}:`,t),null}}async function z(){return await L("/data/filmprojekte.json")}async function G(){return await L("/data/lebenslauf.json")}async function Z(){return await L("/data/skills.json")}async function Q(){return await L("/data/socials.json")}function H(e){if(!e)return"";if(e.includes("heute")){const[n]=e.split("-");return e}const t=e.split("-");return t.length===2&&t[1].length===2||t.length===2&&t[1].length===4||t.length===4,e}function X(e){return!e||!Array.isArray(e)||e.length===0?"":e.join(", ")+"."}async function ee(){try{const e=await z();if(!e||e.length===0){console.error("Keine Filmprojekte gefunden");return}const t=document.querySelector("#film-projects .vertical-timeline");if(!t){console.error("Timeline-Container nicht gefunden");return}t.innerHTML="",e.sort((n,i)=>{const r=n.datum.split("-"),s=i.datum.split("-");return r[0]!==s[0]?s[0]-r[0]:r.length>1&&s.length>1?s[1]-r[1]:0}),e.forEach(n=>{const i=te(n);t.appendChild(i)})}catch(e){console.error("Fehler beim Initialisieren der Filmprojekte-Timeline:",e)}}function te(e){const t=document.createElement("div");t.className="timeline-item";const n=H(e.datum),i=X(e.aufgaben);let r=`
    <div class="timeline-date">${n}</div>
    <div class="timeline-content">
      <h4 class="timeline-title">"${e.titel}"${e.titel.includes("—")?"":" —"} ${e.titel.includes("—")?"":"Projekt"}</h4>
      <p>${e.beschreibung||""}</p>
      ${i?`<p class="timeline-role">${i}</p>`:""}
    </div>
  `;return e.videolink&&e.videolink.trim()!==""&&(r+=`
      <div class="timeline-video">
        <iframe
          src="${e.videolink}"
          title="${e.titel}"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    `),t.innerHTML=r,t}async function ne(){try{const e=await G();if(!e||e.length===0){console.error("Keine Lebenslaufdaten gefunden");return}const t=document.querySelector("#lebenslauf .container");if(!t){console.error("Lebenslauf-Container nicht gefunden");return}const n=t.querySelector(".section-title");t.innerHTML="",t.appendChild(n);const i=e.filter(u=>u.typ==="Beruf"),r=e.filter(u=>u.typ==="Bildung"),s=(u,l)=>{const c=g=>g?g.includes("heute")?9999:parseInt(g.split("-")[0]):0,f=c(u.datum);return c(l.datum)-f};i.sort(s),r.sort(s);const o=document.createElement("div");o.className="cv-timeline";const a=T("Berufserfahrung",i);o.appendChild(a);const d=T("Bildungsweg",r);o.appendChild(d),t.appendChild(o)}catch(e){console.error("Fehler beim Initialisieren der Lebenslauf-Timeline:",e)}}function T(e,t){const n=document.createElement("div");n.className="timeline-section";const i=document.createElement("h3");i.classList.add("untertitel"),i.textContent=e,n.appendChild(i);const r=document.createElement("div");return r.className="vertical-timeline",t.forEach(s=>{const o=ie(s);r.appendChild(o)}),n.appendChild(r),n}function ie(e){const t=document.createElement("div");t.className="timeline-item";const n=H(e.datum);return t.innerHTML=`
    <div class="timeline-date">${n}</div>
    <div class="timeline-content">
      <h3 class="timeline-title">${e.titel}</h3>
      <p>${e.beschreibung||""}</p>
    </div>
  `,t}async function re(){try{const e=await Z();if(!e||e.length===0){console.error("Keine Skills gefunden");return}const t=document.querySelector("#skills .skills-grid");if(!t){console.error("Skills-Container nicht gefunden");return}t.innerHTML="",e.sort((n,i)=>i.level-n.level),e.forEach(n=>{const i=se(n);t.appendChild(i)}),oe()}catch(e){console.error("Fehler beim Initialisieren der Skills-Übersicht:",e)}}function se(e){const t=document.createElement("div");return t.className="skill-card",t.setAttribute("data-skill-level",e.level),t.innerHTML=`
    <h4>${e.name}</h4>
  `,t}function oe(){document.querySelectorAll(".skill-card").forEach(t=>{const i=(parseInt(t.dataset.skillLevel)||5)/10*100,r=(i/100).toFixed(2);t.style.setProperty("--skill-fill",`${i}%`),t.style.setProperty("--transition-speed",`${r}s`),t.addEventListener("mouseenter",()=>{t.classList.add("show-skill-level")}),t.addEventListener("mouseleave",()=>{t.classList.remove("show-skill-level")})})}async function ae(){try{const e=await Q();if(!e||e.length===0){console.error("Keine Social-Media-Daten gefunden");return}const t=document.getElementById("social-links");if(!t){console.error("Social-Links-Container nicht gefunden");return}t.innerHTML="",e.forEach(n=>{const i=ce(n);t.appendChild(i)})}catch(e){console.error("Fehler beim Initialisieren der Social-Media-Links:",e)}}function ce(e){const t=document.createElement("a");t.className="social-link animated",t.href=e.url||"#",t.target="_blank";const n=le(e.platform);return t.innerHTML=`
    <i class="${n} social-icon"></i>
    <div class="social-info">
      <span class="social-name">${e.username||""}</span>
      <span class="follower-count">${e.followers||0}</span>
    </div>
  `,t}function le(e){return{Instagram:"fab fa-instagram",TikTok:"fab fa-tiktok",Facebook:"fab fa-facebook",Twitter:"fab fa-twitter",LinkedIn:"fab fa-linkedin",YouTube:"fab fa-youtube",GitHub:"fab fa-github"}[e]||"fab fa-globe"}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".burger-menu"),t=document.querySelector(".nav-links");e&&e.addEventListener("click",function(){t.classList.toggle("active")});const n=document.querySelectorAll(".nav-link");n.forEach(l=>{l.addEventListener("click",function(c){const f=this.getAttribute("href"),p=document.querySelector(f);p&&(c.preventDefault(),window.scrollTo({top:p.offsetTop-80,behavior:"smooth"}),n.forEach(g=>g.classList.remove("active")),this.classList.add("active"),t.classList.contains("active")&&t.classList.remove("active"))})});const i=document.querySelectorAll(".fade-in"),r=document.querySelectorAll(".slide-in-left"),s=document.querySelectorAll(".slide-in-right");function o(){document.querySelectorAll(".timeline-item").forEach(l=>a.observe(l))}const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&c.target.classList.add("visible")})},{threshold:.1});i.forEach(l=>a.observe(l)),r.forEach(l=>a.observe(l)),s.forEach(l=>a.observe(l)),o(),document.querySelectorAll(".skill-card").forEach(l=>{const c=l.getAttribute("data-skill-level");c&&l.style.setProperty("--skill-level",c)}),document.querySelectorAll('.tabs input[type="radio"]').forEach(l=>{l.addEventListener("change",function(){const c=this.id,f=document.querySelector(`label[for="${c}"] + .tab-content`);document.querySelectorAll(".tab-content").forEach(p=>{p.style.display="none"}),f&&(f.style.display="block")})})});function de(){const e=new IntersectionObserver((t,n)=>{t.forEach(i=>{i.isIntersecting&&(i.target.classList.add("visible"),n.unobserve(i.target))})},{threshold:.1});document.querySelectorAll(".timeline-item").forEach(t=>{e.observe(t)})}const k=document.getElementById("channel-title"),_=document.getElementById("channel-avatar"),I=document.getElementById("subscriber-count"),v=document.getElementById("most-viewed-videos"),b=document.getElementById("latest-videos"),y=document.getElementById("latest-shorts");document.addEventListener("DOMContentLoaded",async()=>{try{await ue(),await fe(),await me(),await pe(),await ee(),await ne(),await re(),await ae(),de()}catch(e){console.error("Fehler in main.js beim Initialisieren:",e)}});async function ue(){try{const e=await x();e&&(k&&(k.textContent=e.title),_&&e.thumbnails&&e.thumbnails.default&&(_.src=e.thumbnails.default.url),I&&he(e.subscriberCount))}catch(e){console.error("Fehler beim Initialisieren der Kanaldaten:",e)}}function he(e){if(!I)return;const t=2e3,n=1e3/60,i=Math.round(t/n),r=e/i;let s=0,o=0;const a=setInterval(()=>{o++,s+=r,o===i&&(clearInterval(a),s=e),I.textContent=`${w(Math.floor(s))} Abonnenten`},n)}async function fe(){if(v)try{const e=await J(),t=await U();if(v.innerHTML="",e){const n=A(e,!1);v.appendChild(n)}else{const n=document.createElement("div");n.className="card video-card longform most-viewed-longform",n.innerHTML=`
        <div class="longform-thumbnail-container">
          <div class="video-placeholder">Kein Video gefunden</div>
        </div>
      `,v.appendChild(n)}if(t){const n=A(t,!0);v.appendChild(n)}else{const n=document.createElement("div");n.className="card video-card short most-viewed-short",n.innerHTML=`
        <div class="video-placeholder">Kein Short gefunden</div>
      `,v.appendChild(n)}}catch(e){console.error("Fehler beim Initialisieren der meistgesehenen Videos:",e)}}function A(e,t){const n=document.createElement("div");n.className=t?"card video-card short most-viewed-short":"card video-card longform most-viewed-longform";const i=e.snippet.title,r=parseInt(e.statistics.viewCount),s=e.snippet.publishedAt,o=e.id;let a=e.snippet.thumbnails.maxres?e.snippet.thumbnails.maxres.url:e.snippet.thumbnails.high?e.snippet.thumbnails.high.url:e.snippet.thumbnails.default.url;const d=e.contentDetails?F(e.contentDetails.duration):"";return t?n.innerHTML=`
      <div class="shorts-thumbnail">
        <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
          <img src="${a}" alt="${i}">
          <div class="video-duration">${d}</div>
        </a>
      </div>
      <div class="video-info">
        <h4 class="video-title">${i}</h4>
        <div class="video-meta">
          <span>${w(r)} Aufrufe</span>
        </div>
      </div>
    `:n.innerHTML=`
      <div class="longform-thumbnail-container">
        <div class="video-thumbnail">
          <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
            <img src="${a}" alt="${i}">
            <div class="video-duration">${d}</div>
          </a>
        </div>
        <div class="video-info">
          <h4 class="video-title">${i}</h4>
          <div class="video-meta">
            <span>${w(r)} Aufrufe</span>
            <span>${V(s)}</span>
          </div>
        </div>
      </div>
    `,n}async function me(){if(b)try{const e=await W(3);if(b.innerHTML="",e&&e.length>0)e.forEach(t=>{const n=P(t,!1);b.appendChild(n)});else for(let t=0;t<3;t++){const n=document.createElement("div");n.className="card video-card",n.innerHTML='<div class="video-placeholder">Kein Video gefunden</div>',b.appendChild(n)}}catch(e){console.error("Fehler beim Initialisieren der neuesten Videos:",e)}}async function pe(){if(y)try{const e=await Y(5);if(y.innerHTML="",e&&e.length>0)e.forEach(t=>{const n=P(t,!0);y.appendChild(n)});else for(let t=0;t<5;t++){const n=document.createElement("div");n.className="card shorts-card",n.innerHTML='<div class="video-placeholder">Kein Short gefunden</div>',y.appendChild(n)}}catch(e){console.error("Fehler beim Initialisieren der neuesten Shorts:",e)}}function P(e,t){const n=document.createElement("div");n.className=t?"card shorts-card":"card video-card";const i=e.snippet.title,r=parseInt(e.statistics.viewCount),s=e.snippet.publishedAt,o=e.id;let a=e.snippet.thumbnails.maxres?e.snippet.thumbnails.maxres.url:e.snippet.thumbnails.high?e.snippet.thumbnails.high.url:e.snippet.thumbnails.default.url;const d=e.contentDetails?F(e.contentDetails.duration):"";return t?n.innerHTML=`
      <div class="shorts-thumbnail">
        <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
          <img src="${a}" alt="${i}">
          <div class="video-duration">${d}</div>
        </a>
      </div>
      <div class="video-info">
        <h4 class="video-title">${i}</h4>
        <div class="video-meta">
          <span>${w(r)} Aufrufe</span>
        </div>
      </div>
    `:n.innerHTML=`
      <div class="longform-thumbnail-container">
        <div class="video-thumbnail">
          <a href="https://www.youtube.com/watch?v=${o}" target="_blank">
            <img src="${a}" alt="${i}">
            <div class="video-duration">${d}</div>
          </a>
        </div>
        <div class="video-info">
          <h4 class="video-title">${i}</h4>
          <div class="video-meta">
            <span>${w(r)} Aufrufe</span>
            <span>${V(s)}</span>
          </div>
        </div>
      </div>
    `,n}document.addEventListener("DOMContentLoaded",function(){ve()});function ve(){document.querySelectorAll(".carousel-track").forEach(t=>{const n=t.id,i=document.querySelector(`.carousel-button.prev[data-carousel="${n}"]`),r=document.querySelector(`.carousel-button.next[data-carousel="${n}"]`);i&&r&&(i.addEventListener("click",()=>M(t,-1)),r.addEventListener("click",()=>M(t,1)))})}function M(e,t){const n=e.querySelector(".carousel-item");if(!n)return;const i=n.offsetWidth,r=parseInt(window.getComputedStyle(e).columnGap||16),s=(i+r)*t;e.scrollBy({left:s,behavior:"smooth"})}
